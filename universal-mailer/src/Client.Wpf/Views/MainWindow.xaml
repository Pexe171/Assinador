<Window x:Class="UniversalMailer.Client.Wpf.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Assinador – Envio"
        Width="900"
        Height="720"
        WindowStartupLocation="CenterScreen">
    <Border Background="{StaticResource brush.bg.surface}"
            BorderBrush="{StaticResource brush.border.default}"
            BorderThickness="1"
            CornerRadius="12"
            Padding="24"
            Margin="24">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="0,0,0,16" Orientation="Vertical">
                    <TextBlock Text="Enviar e-mail transacional" Style="{StaticResource TextBlock.H1}" />

                    <TextBlock Text="Conta remetente" Style="{StaticResource TextBlock.Label}" />
                    <ComboBox ItemsSource="{Binding Accounts}"
                              SelectedItem="{Binding SelectedAccount}"
                              DisplayMemberPath="Account.DisplayName"
                              MinWidth="300"
                              Margin="0,4,0,0" />

                    <TextBlock Text="Nome do cliente" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding NomeCliente, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,0" />

                    <TextBlock Text="CPF" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding Cpf, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,0" />

                    <TextBlock Text="Situação atual" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding SituacaoAtual, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,0" />

                    <TextBlock Text="URL do portal" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding UrlPortal, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,0" />

                    <TextBlock Text="Para" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding EmailPara, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Separe múltiplos endereços com ponto e vírgula."
                             Margin="0,4,0,0" />

                    <TextBlock Text="CC" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding EmailCc, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,0" />

                    <TextBlock Text="BCC" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding EmailBcc, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,0" />

                    <TextBlock Text="Valores adicionais (chave=valor por linha)" Style="{StaticResource TextBlock.Label}" Margin="0,12,0,0" />
                    <TextBox Text="{Binding ValoresExtras, UpdateSourceTrigger=PropertyChanged}"
                             AcceptsReturn="True"
                             Height="100"
                             Margin="0,4,0,0" />
                </StackPanel>
            </ScrollViewer>

            <GroupBox Grid.Row="1">
                <GroupBox.Header>
                    <TextBlock Text="Prévia obrigatória" Style="{StaticResource TextBlock.H2}" />
                </GroupBox.Header>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TextBlock Text="{Binding PreviewSubject}" Style="{StaticResource TextBlock.Label}" Margin="0,0,0,8" />
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <TextBox Text="{Binding PreviewHtml, Mode=OneWay}"
                                 IsReadOnly="True"
                                 TextWrapping="Wrap"
                                 AcceptsReturn="True"
                                 MinHeight="200" />
                    </ScrollViewer>
                </Grid>
            </GroupBox>

            <DockPanel Grid.Row="2">
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <Button Content="Pré-visualizar"
                            Command="{Binding PreviewCommand}"
                            MinWidth="120" />
                    <Button Content="Enviar"
                            Command="{Binding SendCommand}"
                            MinWidth="120"
                            Margin="8,0,0,0" />
                </StackPanel>
                <TextBlock Text="{Binding StatusMessage}"
                           VerticalAlignment="Center"
                           Foreground="{StaticResource brush.text.secondary}" />
            </DockPanel>
        </Grid>
    </Border>
</Window>
